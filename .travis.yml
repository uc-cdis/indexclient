language: python
python:
- '2.7'
- '3.6'
sudo: false
install:
- pip install . --force --upgrade
- pip install -r test-requirements.txt
- if [[ $TRAVIS_PYTHON_VERSION == 3.6 ]]; then pip install -e git+https://git@github.com/uc-cdis/wool.git#egg=wool;
  fi
script: python -m pytest -vvvs tests
after_script:
- if [[ $TRAVIS_PYTHON_VERSION == 3.6 && $PR_NUMBER != false ]]; then wool; fi
env:
  matrix:
  - REPOSITORY="uc-cdis/indexclient" PR_NUMBER="$TRAVIS_PULL_REQUEST"
  global:
    secure: u+K29v2xeUTnApBDU4sEiF8lvgY3uBFy03nEATDEFCHnQrOLzZPuksUjwqj6+kzixK8tEzO1xmjcOK29oZUzFlSzzz9JtenjXSl5FbJBy3qxeL84QQ5oW7uiDraDVmPAvLnPdGq/7DjSfPPbkdeW/8Xqh9smfIS4lMiPequ3tpm8M6jBy4zRkAU1Km4Bq8RhCZigQ/jXt78StkLkIqzI13kNgV+P0BrOkas46jDN2U0Yr+hdJeSgKNfM78Xo3Vyy4ApLTfkUXxSFHLcmnLPwYSPfr94nUHGZmHZk++Pvzse4Hw9mWxIYQQ8MdwTh5LwmBMQb4ovZYadjmYTe4/cm6MxPeD17pB0cvK/sO2U2rv92wCuzN0biaat0plj38hM8Xqd9o70B2ESXxC4d8MtOX8DAjaxfLLI7X7VTXZQfph2hHFiYM9GGoWYQJKh9LHBmwQxPCrUL7/FHlgPPEX3zcUhQoFkXvdyQYN95jlSys7dUA8OuoYNKQaxYt396PWavYWRjv+6m+Znmx1CrX+GF8vQjepbHwfRDXECFkq0Cvoo/XP6cbPUU3sKgTTfu1kItBva/3BVSqgOLN+gfJI1sA42GVLdqBJ8CG+JXdBvju6aAEirkMaxhBE9zWZoX6NcvPYQl4wr36fbaR1ynJZY8oKMflkUoGddNoEZtv7C2QP0=
